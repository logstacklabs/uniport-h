{{ with .Site.Params.config }}
    {{ $icon := printf "%s" .favicon | default .logo }}
    {{ $pwa := partial "functions/get-site-favicons.html" $icon }}

    {{ with $pwa.manifest }}
        {{ $manifest := resources.FromString "manifest.json" (. | jsonify (dict "prefix" "    " "indent" "    ")) }}
        {{ $manifest.Publish }}
        <link rel="manifest" href="{{ $manifest.RelPermalink }}">
        <meta name="color-scheme" content="dark">
        <meta name="msapplication-TileColor" content="{{ .theme_color }}">
        <meta name="theme-color" content="{{ .background_color }}">
        <meta name="msapplication-TileColor" media="(prefers-color-scheme: light)" content="{{ .theme_color_light }}">
        <meta name="theme-color" media="(prefers-color-scheme: light)" content="{{ .background_color_light }}">
    {{ end }}

    {{ range $key, $info := $pwa.favicons }}
        <link rel="{{ $info.rel }}" type="{{ $info.type }}" sizes="{{ $info.sizes }}" href="{{ $info.url }}">
    {{ end }}

{{ end }}
